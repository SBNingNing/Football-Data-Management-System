# 科大校园足球赛事管理系统


## 系统概述
科大校园足球赛事管理系统用于管理校内足球赛事数据，包括冠军杯(11人制男足)、巾帼杯(8人制女足)和八人制比赛(俱乐部制)。系统为赛事记录人员提供赛事信息记录功能，同时为游客提供各类赛事信息查询服务。

### 整体架构
系统采用前后端分离架构：
- **前端**：Vue.js + Element UI
- **后端**：Flask + SQLAlchemy
- **数据库**：MySQL
- **通信**：RESTful API

## 技术栈详情

### 前端技术栈 (概要)
- Vue 3 + Vite + Element Plus
- 状态管理：Pinia (早期部分代码可能仍含 Vuex/旧 store 痕迹)
- 路由：Vue Router
- HTTP：统一封装 httpClient (axios 包装 + 缓存/错误标准化)

更完整的前端分层、组合式与常量策略见 `frontend/frontend-ARCHITECTURE.md`。

### 后端技术栈
- **框架**: Flask 2.0+
- **ORM框架**: SQLAlchemy
- **API文档**: Flask-RESTful / Swagger UI
- **安全框架**: Flask-JWT-Extended
- **数据库**: MySQL 8.0
- **缓存**: Redis (可选)

## 系统模块

### 前端模块
1. **公共模块**
   - 用户认证与授权
   - 公共组件
   - 全局状态管理
   
2. **赛事管理模块**
   - 赛事信息管理
   - 赛季管理
   
3. **球队管理模块**
   - 球队信息管理
   - 球队成员管理
   
4. **球员管理模块**
   - 球员基本信息管理
   - 球员数据统计
   
5. **比赛管理模块**
   - 比赛安排
   - 比赛结果记录
   - 比赛事件记录
   
6. **数据统计模块**
   - 积分榜
   - 射手榜
   - 数据可视化

7. **用户管理模块**
   - 用户账号管理
   - 角色权限管理
   - 用户操作日志

### 后端模块
1. **核心模块**
   - 应用配置
   - 异常处理
   - 日志管理
   
2. **安全模块**
   - JWT认证授权
   - 权限控制
   
3. **业务API模块**
   - 球员管理API
   - 球队管理API
   - 比赛管理API
   - 赛事管理API
   - 赛季管理API
   - 事件管理API
   - 用户管理API
   
4. **统计模块**
   - 数据统计服务
   - 数据导出服务

## 数据库设计

系统包含以下主要实体:

1. **球员表(player)**
    
   | 列名         | 数据类型 | 描述                     |
   | ------------ | -------- | ------------------------ |
   | 球员ID       | INT      | 球员的唯一标识（主键）   |
   | 球员姓名     | VARCHAR  | 球员的姓名               |
   | 性别         | CHAR(1)  | 球员的性别（M/F）        |
   | 球队ID       | INT      | 球员所属球队的ID（外键） |
   | 赛季ID       | INT      | 球员所属赛季的ID（外键） |
   | 赛季进球数   | INT      | 球员在当前赛季的进球数   |
   | 赛季红黄牌数 | INT      | 球员在当前赛季的红黄牌数 |
   | 历史进球数   | INT      | 球员历史总进球数         |
   | 历史红黄牌数 | INT      | 球员历史总红黄牌数       |

2. **球队表(team)**
   
   | 列名           | 数据类型 | 描述                     |
   | -------------- | -------- | ------------------------ |
   | 球队ID         | INT      | 球队的唯一标识（主键）   |
   | 球队名称       | VARCHAR  | 球队的名称               |
   | 赛事ID         | INT      | 球队参加的赛事ID（外键） |
   | 赛季ID         | INT      | 球队参加的赛季ID（外键） |
   | 赛季总进球数   | INT      | 球队在当前赛季的总进球数 |
   | 赛季红黄牌数   | INT      | 球队在当前赛季的红黄牌数 |
   | 赛季积分       | INT      | 球队在当前赛季的积分     |
   | 赛季排名       | INT      | 球队在当前赛季的排名     |
   | 历史总进球数   | INT      | 球队历史总进球数         |
   | 历史总红黄牌数 | INT      | 球队历史总红黄牌数       |

3. **比赛表(match)**
   
   | 列名     | 数据类型 | 描述                             |
   | -------- | -------- | -------------------------------- |
   | MatchID  | INT      | 比赛的唯一标识（主键）           |
   | 比赛时间 | DATETIME | 比赛的时间                       |
   | 比赛地点 | VARCHAR  | 比赛的地点                       |
   | 主队ID   | INT      | 主队的球队ID（外键）             |
   | 客队ID   | INT      | 客队的球队ID（外键）             |
   | 主队比分 | INT      | 主队的比分                       |
   | 客队比分 | INT      | 客队的比分                       |
   | 赛事ID   | INT      | 比赛所属的赛事ID（外键）         |
   | 赛季ID   | INT      | 比赛所属的赛季ID（外键）         |
   | 比赛状态 | CHAR(1)  | 比赛状态（F: 已结束，P: 未结束） |

4. **事件表(event)**
   
   | 列名     | 数据类型 | 描述                         |
   | -------- | -------- | ---------------------------- |
   | eventID  | INT      | 事件的唯一标识（主键）       |
   | MatchID  | INT      | 事件所属的比赛ID（外键）     |
   | 事件类型 | VARCHAR  | 事件的类型（如进球、红牌等） |
   | 球队ID   | INT      | 事件涉及的球队ID（外键）     |
   | 球员ID   | INT      | 事件涉及的球员ID（外键）     |
   | 赛季ID   | INT      | 事件所属的赛季ID（外键）     |

5. **赛事表(tournament)**
   
   | 列名         | 数据类型 | 描述                              |
   | ------------ | -------- | --------------------------------- |
   | 赛事ID       | INT      | 赛事的唯一标识（主键）            |
   | 赛事名称     | VARCHAR  | 赛事的名称（如冠军杯、巾帼杯等）  |
   | 赛事类型     | VARCHAR  | 赛事的类型（如11人制、8人制等）   |
   | 参赛单位类型 | VARCHAR  | 参赛单位类型（如学院、俱乐部等）  |
   | 性别限制     | CHAR(1)  | 性别限制（M: 男，F: 女，U: 不限） |

6. **赛季表(season)**
   
   | 列名         | 数据类型 | 描述                     |
   | ------------ | -------- | ------------------------ |
   | 赛季ID       | INT      | 赛季的唯一标识（主键）   |
   | 赛季名称     | VARCHAR  | 赛季的名称（如2023赛季） |
   | 赛季开始时间 | DATETIME | 赛季的开始时间           |
   | 赛季结束时间 | DATETIME | 赛季的结束时间           |

7. **用户表(user)**
   
   | 列名           | 数据类型 | 描述                               |
   | -------------- | -------- | ---------------------------------- |
   | 用户ID         | INT      | 用户的唯一标识（主键）             |
   | 用户名         | VARCHAR  | 用户登录名                         |
   | 密码           | VARCHAR  | 加密存储的用户密码                 |
   | 邮箱           | VARCHAR  | 用户邮箱地址                       |
   | 身份/角色      | VARCHAR  | 用户身份类型（管理员、记录员等）   |
   | 创建时间       | DATETIME | 账户创建时间                       |
   | 最后登录时间   | DATETIME | 最后登录时间                       |
   | 状态           | CHAR(1)  | 账户状态（启用/禁用）              |

## 接口设计

系统采用RESTful API设计风格，主要包括以下接口类别:

1. **认证接口**: 用户登录、登出、权限验证
2. **球员接口**: 球员CRUD、球员数据统计
3. **球队接口**: 球队CRUD、球队数据统计
4. **比赛接口**: 比赛CRUD、比赛事件记录
5. **赛事接口**: 赛事CRUD、赛事数据查询
6. **赛季接口**: 赛季CRUD、赛季数据查询
7. **统计接口**: 积分榜、射手榜等数据统计

## 系统部署

### 开发环境
- Python 3.9.21
- Node.js 16+
- MySQL 8.0
- Pip/Virtualenv

### 生产环境
- 服务器: Windows Server
- 容器化: Docker (可选)
- WSGI服务器: Gunicorn
- 反向代理: Nginx

## 开发计划
1. 需求分析与系统设计
2. 数据库设计与实现
3. 后端API开发与测试
4. 前端页面开发
5. 系统集成与测试
6. 部署与上线


## 前端架构与状态说明
前端更详细的架构（服务层/常量/组合式/反馈模式规划）、状态拆分与迁移策略不再在主 README 展开，集中维护于：
`frontend/frontend-ARCHITECTURE.md`

若参与前端开发，请首先阅读该文件以了解：
1. 目录分层与命名约定
2. 领域 service 与 httpClient 使用规范
3. 比赛/事件常量统一来源
4. 待落地的组合式规划 (滚动恢复、反馈统一)
5. 遗留文件清理策略



